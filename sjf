#include<bits/stdc++.h>
using namespace std;
int main()
{
   int n=4;
   int pr[4]={1,2,3,4};
   int at[4]={0,1,4,6};
   int bt[4]={3,3,4,2};
   int done[4]={0};
   int time=0;
   int timeline[5];
   int order[4];
   int ct[4],tat[4],wt[4];
   timeline[0]=0;
   for(int i=0;i<n;i++)
   {
       int p=-1;
       for(int j=0;j<n;j++)
       {
           if(!done[j]&&at[j]<=time)
           {
               if(p==-1||bt[j]<bt[p])
               {
                   p=j;
               }
           }
       }
       if(p==-1)
       {
           time++;
           i--;
           continue;
       }
       time+=bt[p];
       ct[p]=time;
       tat[p]=ct[p]-at[p];
       wt[p]=tat[p]-bt[p];
       done[p]=1;
       order[i]=pr[p];
       timeline[i+1]=time;
   }
   cout<<"\nGantt chart:\n";
   for(int i=0;i<n;i++)

       cout<<" p"<<order[i]<<" ";
       cout<<"\n";
       for(int i=0;i<=n;i++)
        cout<<timeline[i]<<"  ";
       cout<<"\n\n";
       cout<<"Process AT BT CT TAT WT\n";
       for(int i=0;i<n;i++)
       {
           cout<<pr[i]<<"       "<<at[i]<<"  "<<bt[i]<<"  "<<ct[i]<<"  "<<tat[i]<<"  "<<wt[i]<<endl;
       }
       float avg=0;
       for(int i=0;i<n;i++)

           avg+=wt[i];
        avg/=n;
        cout<<"\n Average waiting time="<<avg<<endl;


   return 0;
}
